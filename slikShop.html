<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="mutual.css" />
    <link rel="stylesheet" href="slikShop.css" />
    <title>Slik shop</title>
  </head>
  <body>
    <!-- & HER STARTER NAVIGATIONEN (MOBILE + DESKTOP) --->
    <nav class="BurgerNav-DeskNav">
      <!-- * Her er Burger menuen og krydset -->
      <div class="burger_menu">
        <img src="/svg/burgerMenuLogo.svg" alt="" />
      </div>

      <div class="burger_menu_luk">
        <img src="/svg/krydsLogo.svg" alt="" />
      </div>
      <!-- * ------ burger menu og kryds slut -->

      <!-- HER SKAL DER VÆRE EN TIL DIV SOM SKAL VÆRE VORES INDKØBSKURV -->
      <div>
        <img src="" alt="" />
      </div>
      <!--^ NÅR MAN ÅBNER BURGER MENUEN kommer det her   -->
      <div class="nav_sidebar">
        <ul class="BurgerNav">
          <!-- <li><a href="forside.html">Forsiden</a></li> -->
          <li><a href="slikShop.html">Shop</a></li>
          <li><a href="slikShop.html#EndFooter">Kontakt</a></li>
        </ul>
      </div>
      <!-- ! Her starter Desktop navigationen (Den har klassen hidden på) -->
      <!-- ? Det her er den der lille skrift helt oppe i toppen over navigationen i Desktop version -->
      <div class="topInformation hidden">
        <ul>
          Mere end 10.000 tilfredse kunder
        </ul>
        <ul>
          Frifragt for over 100 kr.
        </ul>
        <ul>
          Hurtigt levering!
        </ul>
      </div>
      <!-- ? ------- lille skrift slut-------- -->
      <div class="DeskNav hidden">
        <ul>
          <!-- <li><a href="forside.html">Forsiden</a></li> -->
          <li><a href="slikShop.html">Shop</a></li>
          <li><a href="slikShop.html#EndFooter">Kontakt</a></li>
        </ul>
      </div>
      <!-- ! ------ SLUT ----------->
    </nav>
    <!-- & ------ SLUT ------------>

    <!-- *-------HER STARER MAIN--------- -->
    <header>
      <!-- Splash billede / svg  -->
    </header>

    <section>
      <article>
        <h1>Velkommen!</h1>
        <p>
          Lorem ipsum dolor sit, amet consectetur adipisicing elit. Obcaecati,
          quod provident officia modi at debitis perspiciatis porro cupiditate
          qui maxime natus voluptatem rerum maiores culpa quaerat nam! Porro,
          veritatis amet?
        </p>
      </article>
      <a href="slikShop.html#knapper_med_katagorier">
        <button class="SHOP">SHOP</button></a
      >
    </section>
    <header>
      <h2 id="overskrift">Alt</h2>
    </header>

    <section>
      <nav id="knapper_med_katagorier">
        <button data-kategori="alt" class="SHOP-KATAGORIER-KNAPPER">Alt</button>
        <button data-kategori="chokolade" class="SHOP-KATAGORIER-KNAPPER">
          Chokolade
        </button>
        <button data-kategori="skum" class="SHOP-KATAGORIER-KNAPPER">
          Skum
        </button>
        <button data-kategori="vingummi" class="SHOP-KATAGORIER-KNAPPER">
          Vingummi
        </button>
        <button data-kategori="surtslik" class="SHOP-KATAGORIER-KNAPPER">
          Surt Slik
        </button>
        <button data-kategori="bolsjer" class="SHOP-KATAGORIER-KNAPPER">
          Bolsjer
        </button>
        <button data-kategori="tyggegummi" class="SHOP-KATAGORIER-KNAPPER">
          Tyggegummi
        </button>
        <button data-kategori="karamel" class="SHOP-KATAGORIER-KNAPPER">
          Karamel
        </button>
        <button data-kategori="lakrids" class="SHOP-KATAGORIER-KNAPPER">
          Lakrids
        </button>
      </nav>
    </section>

    <section id="slikket">
      <template>
        <article>
          <img src="" alt="" class="billedeurl" />
          <h3 class="navn"></h3>
          <p class="pris"></p>
        </article>
      </template>
    </section>

    <script>
      // ----------------------------------------------------------------

      const url = "https://tema7slik-1f37.restdb.io/rest/slik";

      const options = {
        headers: {
          "x-apikey": "620e5bf934fd621565858739",
        },
      };

      let json;
      let myKatogri = "alt";

      const main = document.querySelector("#slikket");
      const template = document.querySelector("template").content;
      const header = document.querySelector("#overskrift");

      document.addEventListener("DOMContentLoaded", start);

      function start() {
        console.log("start");
        const filterKnapper = document.querySelectorAll(
          "#knapper_med_katagorier button"
        );
        filterKnapper.forEach((knap) =>
          knap.addEventListener("click", filtrerKategorier)
        );

        async function henData() {
          const resspons = await fetch(url, options);
          json = await resspons.json();
          vis(json, myKatogri);
        }

        henData();
      }

      function filtrerKategorier() {
        console.log("filtrerKategorier");
        let klikketPaa = this.dataset.kategori;
        console.log("klikketPaa :" + klikketPaa);
        //   document.querySelector(".valgt").classList.remove("valgt");
        //   this.classList.add("valgt");

        header.textContent = this.textContent;
        vis(json, klikketPaa);
      }

      function vis(json, x) {
        console.log(json);

        main.textContent = "";
        json.forEach((slik) => {
          if (slik.kategori == x || x == "alt") {
            const klon = template.cloneNode(true);

            klon.querySelector(".billedeurl").src =
              "tema7billeder2/" + slik.billede + ".webp";
            klon.querySelector(".navn").textContent = slik.navn;

            klon.querySelector(".pris").textContent = slik.pris + " kr.";

            klon.querySelector("article").addEventListener("click", () => {
              location.href = `singleView.html?id=${slik._id}`;
            });
            main.appendChild(klon);
          }
        });

        console.log(myKatogri);
      }
    </script>

    <!-- & ---- FOOTER STARTER HER-------- -->
    <footer id="EndFooter">
      <p>Betalings muligheder</p>
      <!-- <div> Her inde skal der være et billede af betalings muligheder</div> -->
      <div>
        <p>Følg os her</p>
        <div>
          <!-- Her inde skal der være instagram og facebook logo -->
        </div>
        <p>Kontakt:</p>
        <address>
          <a
            href="https://www.google.com/maps/place/Best+Buy/@33.7981969,-118.1789981,14.73z/data=!4m8!1m2!2m1!1skaty+perry+adresse!3m4!1s0x80dd33d056197b65:0xffc9eb1486da65b4!8m2!3d33.806605!4d-118.16819"
            >Slikvej 22 <br />
            5714 Slikstrup</a
          >
          <br />
          <a href="tel:+45 32799935">+45 32799935</a>
          <br />
          <a href="mailto:Kontakt@sugarheaven.dk"
            >Mail: Kontakt@sugarheaven.dk</a
          >
        </address>
      </div>
    </footer>
    <!-- & ---- FOOTER SLUT-------- -->
    <script src="funktioner.js"></script>
  </body>
</html>
